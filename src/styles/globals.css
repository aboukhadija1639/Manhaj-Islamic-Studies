@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700&family=Tajawal:wght@400;500;600;700&display=swap");

html { color-scheme: light; }
html.dark { color-scheme: dark; }

/* ============================================================================
   THEME TOKENS - Complete Semantic Color System
   ============================================================================
   
   All colors use HSL format for Tailwind opacity support (e.g., bg-primary/50)
   Format: H S% L% (Hue Saturation Lightness)
   
   Usage: hsl(var(--background)) or hsl(var(--primary) / 0.5)
   ========================================================================= */

@layer base {
  :root {
    /* ===== BASE TOKENS ===== */
    --background: 0 0% 100%;           /* #ffffff - Page background */
    --foreground: 0 0% 10%;            /* #1a1a1a - Main text */

    /* ===== CARD/SURFACE TOKENS ===== */
    --card: 0 0% 100%;                 /* #ffffff - Card background */
    --card-foreground: 0 0% 10%;       /* #1a1a1a - Text on cards */
    --popover: 0 0% 100%;              /* #ffffff - Dropdown/tooltip background */
    --popover-foreground: 0 0% 10%;    /* #1a1a1a - Text in popovers */

    /* ===== INTERACTIVE TOKENS ===== */
    --primary: 173 80% 40%;            /* #14b8a6 - Teal 500 - Primary brand */
    --primary-foreground: 0 0% 100%;   /* #ffffff - Text on primary */
    --secondary: 36 10% 85%;           /* #e8e4db - Beige 200 - Secondary actions */
    --secondary-foreground: 36 20% 25%; /* #5a5346 - Dark beige text */
    --accent: 48 96% 53%;              /* #facc15 - Yellow 400 - Highlights */
    --accent-foreground: 48 100% 10%;  /* #422006 - Dark text on yellow */

    /* ===== STATE TOKENS ===== */
    --destructive: 0 84% 60%;          /* #ef4444 - Red 500 - Errors/delete */
    --destructive-foreground: 0 0% 100%; /* #ffffff - Text on red */
    --success: 142 76% 36%;            /* #16a34a - Green 600 - Success states */
    --success-foreground: 0 0% 100%;   /* #ffffff - Text on green */
    --warning: 38 92% 50%;             /* #f59e0b - Amber 500 - Warnings */
    --warning-foreground: 0 0% 100%;   /* #ffffff - Text on amber */

    /* ===== UI ELEMENT TOKENS ===== */
    --muted: 220 14% 96%;              /* #f3f4f6 - Gray 100 - Subtle backgrounds */
    --muted-foreground: 220 9% 46%;    /* #6b7280 - Gray 600 - Subtle text */
    --border: 220 13% 91%;             /* #e5e7eb - Gray 200 - Borders */
    --input: 220 13% 91%;              /* #e5e7eb - Gray 200 - Input backgrounds */
    --ring: 173 80% 40%;               /* #14b8a6 - Teal 500 - Focus rings */

    /* ===== RADIUS ===== */
    --radius: 0.5rem;                  /* 8px - Consistent border radius */
  }

  /* ============================================================================
     DARK MODE THEME
     ============================================================================
     
     True dark (#0a0a0a) for OLED optimization and reduced eye strain
     Maintains WCAG AA/AAA contrast ratios
     ========================================================================= */

  .dark {
    /* ===== BASE TOKENS ===== */
    --background: 0 0% 4%;             /* #0a0a0a - True dark background */
    --foreground: 0 0% 98%;            /* #fafafa - Near white text */

    /* ===== CARD/SURFACE TOKENS ===== */
    --card: 0 0% 10%;                  /* #1a1a1a - Slightly lighter than background */
    --card-foreground: 0 0% 98%;       /* #fafafa - Near white text on cards */
    --popover: 0 0% 10%;               /* #1a1a1a - Same as card */
    --popover-foreground: 0 0% 98%;    /* #fafafa - Near white text in popovers */

    /* ===== INTERACTIVE TOKENS ===== */
    --primary: 173 80% 40%;            /* #14b8a6 - Teal 500 (same as light) */
    --primary-foreground: 0 0% 100%;   /* #ffffff - White text on teal */
    --secondary: 36 10% 25%;           /* #3d3730 - Dark beige */
    --secondary-foreground: 0 0% 98%;  /* #fafafa - Light text on dark beige */
    --accent: 48 96% 53%;              /* #facc15 - Yellow 400 (same as light) */
    --accent-foreground: 0 0% 10%;     /* #1a1a1a - Dark text on yellow */

    /* ===== STATE TOKENS ===== */
    --destructive: 0 84% 60%;          /* #ef4444 - Red 500 (same as light) */
    --destructive-foreground: 0 0% 100%; /* #ffffff - White text on red */
    --success: 142 76% 36%;            /* #16a34a - Green 600 (same as light) */
    --success-foreground: 0 0% 100%;   /* #ffffff - White text on green */
    --warning: 38 92% 50%;             /* #f59e0b - Amber 500 (same as light) */
    --warning-foreground: 0 0% 100%;   /* #ffffff - White text on amber */

    /* ===== UI ELEMENT TOKENS ===== */
    --muted: 0 0% 12%;                 /* #1f1f1f - Slightly lighter than card */
    --muted-foreground: 0 0% 64%;      /* #a1a1aa - Gray 400 - Subtle text */
    --border: 0 0% 16%;                /* #2a2a2a - Subtle border */
    --input: 0 0% 16%;                 /* #2a2a2a - Input backgrounds */
    --ring: 173 80% 40%;               /* #14b8a6 - Teal 500 - Focus rings */
  }

  /* ============================================================================
     BASE STYLES
     ========================================================================= */

  * {
    border-color: hsl(var(--border));
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-family: 'Tajawal', system-ui, sans-serif;
    font-feature-settings: "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* ============================================================================
     RTL SUPPORT
     ========================================================================= */

  [dir="rtl"] {
    direction: rtl;
  }

  /* ============================================================================
     TYPOGRAPHY
     ========================================================================= */

  /* Arabic Typography Optimization */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Cairo', system-ui, sans-serif;
    color: hsl(var(--foreground));
  }

  /* Links */
  a {
    color: hsl(var(--primary));
    text-decoration: none;
  }

  a:hover {
    color: hsl(var(--primary) / 0.8);
  }

  /* ============================================================================
     ACCESSIBILITY
     ========================================================================= */

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Focus Visible for Accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* ============================================================================
     SCROLLBAR STYLING
     ========================================================================= */

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background-color: hsl(var(--muted));
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--border));
    border-radius: var(--radius);
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
  }
}

/* ============================================================================
   UTILITY CLASSES
   ========================================================================= */

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* RTL-aware utilities */
  .rtl\:space-x-reverse > :not([hidden]) ~ :not([hidden]) {
    --tw-space-x-reverse: 1;
  }
}
